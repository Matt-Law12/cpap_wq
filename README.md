# CPAP YSI Continual Water Quality Monitoring
Analyzing the monitoring data collected by CPAP's Continual Water Quality Monitoring program. Interactive PowerBI dashboard can be found [here](https://app.powerbi.com/view?r=eyJrIjoiZGUzNTIyZGMtNjhjMy00NWVmLWJmMGItMmQ3ZWZjZTkxMjY5IiwidCI6ImI2MjAxOTYwLTQ1YmEtNGI3OC1iMDgwLWYxYzQzM2ZmNmUzNiIsImMiOjZ9). 

![Screenshot 2025-05-15 142513](https://github.com/user-attachments/assets/5fca3972-e1d4-413a-855c-37eb14de9bfd)

## Project Overview
The FDEP Central Panhandle Aquatic Preserves conduct continual water chemisty data collection through the use of YSI EXO2 data sondes. These dataloggers collect temperature, depth, specific conductivity, pH, salinity, dissolved oxygen, and turbidiy data continually across 15 minute intervals at two established stations, Alligator Harbor (designated AH2), and Windmark (designated WD).
## Data Collection
YSI EXO2 dataloggers are contained within a 10 cm (inside diameter) PVC housing pipe mounted vertically to a designated channel marker. To facilitate water flow across the sensors, several holes are drilled into the submerged portion of the pipe. Hole density is greatest near the base where the sonde sensors are located. The PVC pipe is placed on the channel marker using stainless steel hose clamps. Once a month the dataloggers are retrieved, downloaded, cleaned, and inspected. Freshly calibrated units are deployed at the same time, resulting in little or no data gaps in collection intervals. These dataloggers go through both a pre- and post- calibration process to ensure the sersors are accurately recording data. 
## Data Analysis
Upon retreaval, datalogger deployment data is uploaded from the YSI data sonde to a Personal Computer (IBM compatible). Files are exported from KOR Software, the software platform used for managing the EXO data sonde and water quality data, in a comma separated file (.csv) and uploaded to the NERRS Centralized Data Management Office (CDMO) Non-SWMP Data Upload Service where data undergo automated primary QAQC. During primary QAQC, data are flagged if they are missing or out of sensor range.  The edited file is then returned to the Aquatic Preserve office for secondary QAQC where it is opened in Microsoft Excel and processed using the CDMO’s NERRQAQC Excel macro.  The macro inserts station codes, creates metadata worksheets for flagged data and summary statistics, and graphs the data for review.  It allows the user to apply QAQC flags and codes to the data, remove any overlapping deployment data, append files, and export the resulting data file for upload to the Aquatic Preserve database. Upload after secondary QAQC results in ingestion into the Aquatic Preserve database as provisional plus data, and finally tertiary QAQC by the Florida Coastal Office’s Data Coordinator and assimilation into the Aquatic Preserve database as authenticated data.

Anomalous data are evaluated to determine whether to flag or reject the suspect values. Data outside the "normal" range of water quality parameters for each site are investigated for validity based on weather data, field observations, QC checks, graphs and instrument diagnostics. Data are rejected if the anomalies are attributed to sensor malfunction and/or excessive fouling. In addition to observations of any physical damage (e.g., compromised DO probe membrane), sensor malfunctions are detected if the reading of the probe is outside the range established for the sensor or the sensor will not post calibrate.

To transform the QAQC'd data into a single file that contains only data that has not been ruled "out-of-range," I wrote Python code to first append the yearly data into one .csv file that contained all of the monitoring data for each site, and then filter out the data that was flagged for being out-of-range. 

I then compiled this data into an [interactive Power BI dashboard](https://app.powerbi.com/view?r=eyJrIjoiZGUzNTIyZGMtNjhjMy00NWVmLWJmMGItMmQ3ZWZjZTkxMjY5IiwidCI6ImI2MjAxOTYwLTQ1YmEtNGI3OC1iMDgwLWYxYzQzM2ZmNmUzNiIsImMiOjZ9), which contains all observed data that has not been rejected due to anomalies in the data collection process. This dashboard provides the general public with easy access to our water quality monitoring data, presenting it in a clear and understandable format. It presents complex water quality data in a way that’s accessible to the general public, while also being detailed enough to support scientific and technical analysis.
